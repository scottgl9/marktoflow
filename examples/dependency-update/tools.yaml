# Tool definitions for dependency-update bundle
tools:
  - name: git
    script: git.sh
    description: "Git operations for repository management"
    operations:
      clone:
        description: "Clone a repository"
        parameters:
          repo:
            type: string
            required: true
            description: "Repository in owner/repo format"
          depth:
            type: integer
            default: 1
            description: "Clone depth"
      create_branch:
        description: "Create a new branch"
        parameters:
          path:
            type: string
            required: true
          name:
            type: string
            required: true
          from:
            type: string
            default: "main"
      commit:
        description: "Commit changes"
        parameters:
          path:
            type: string
            required: true
          message:
            type: string
            required: true
          files:
            type: array
      push:
        description: "Push branch to remote"
        parameters:
          path:
            type: string
            required: true
          branch:
            type: string
            required: true

  - name: npm
    script: npm.py
    description: "NPM package manager operations"
    operations:
      outdated:
        description: "List outdated dependencies"
        parameters:
          path:
            type: string
            required: true
          format:
            type: string
            default: "json"
      audit:
        description: "Run security audit"
        parameters:
          path:
            type: string
            required: true
          format:
            type: string
            default: "json"
      update:
        description: "Update packages"
        parameters:
          path:
            type: string
            required: true
          packages:
            type: array
            required: true

  - name: github
    script: github.py
    description: "GitHub API operations"
    operations:
      create_pull_request:
        description: "Create a pull request"
        parameters:
          repo:
            type: string
            required: true
          title:
            type: string
            required: true
          body:
            type: string
            required: true
          head:
            type: string
            required: true
          base:
            type: string
            default: "main"
          labels:
            type: array
          draft:
            type: boolean
            default: false
      enable_auto_merge:
        description: "Enable auto-merge for a PR"
        parameters:
          repo:
            type: string
            required: true
          pr_number:
            type: integer
            required: true
          merge_method:
            type: string
            default: "squash"
